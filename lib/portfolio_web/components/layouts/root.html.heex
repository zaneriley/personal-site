<!DOCTYPE html>
<html lang="en">
  <head>
    <.live_title>
      <%= assigns[:page_title] ||
        "Zane Riley | Product Designer (Tokyo) | 10+ Years Experience" %>
    </.live_title>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="csrf-token" content={get_csrf_token()} />
    <meta
      name="description"
      content={
        assigns[:page_description] ||
          ~c"Zane Riley: Tokyo Product Designer. 10+ yrs experience. Currently at Google. Worked in e-commerce, healthcare, and finance. Designed and built products for Google, Google Maps, and Google Search."
      }
    />
    <!-- href langs -->
    <%= hreflang_tags(@conn) %>
    <!-- Favicon and touch icons -->
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href={url(~p"/apple-touch-icon.png")}
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href={url(~p"/favicon-32x32.png")}
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href={url(~p"/favicon-16x16.png")}
    />
    <link
      rel="mask-icon"
      href={url(~p"/safari-pinned-tab.svg")}
      color="#597099"
    />
    <link rel="manifest" href={url(~p"/site.webmanifest")} />
    <!-- Color definitions -->
    <meta name="msapplication-TileColor" content="#2b5797" />
    <meta name="theme-color" content="#343334" />
    <!-- Dynamic Schema Markup -->

    <!-- Dynamic OG Meta -->
    <%= if assigns[:og_meta] do %>
      <meta property="og:title" content={assigns[:og_meta][:title]} />
      <meta property="og:type" content={assigns[:og_meta][:type]} />
      <meta property="og:image" content={assigns[:og_meta][:image]} />
      <meta property="og:description" content={assigns[:og_meta][:description]} />
    <% end %>
    <link phx-track-static rel="stylesheet" href={url(~p"/css/critical.css")} />
    <!-- TODO: Figure out how to gen the critical CSS from the tailwind config -->
    <!-- Critical CSS -->
    <%= if File.exists?("../assets/css/critical.css") do %>
      <style>
        <%= File.read!("../assets/css/critical.css") %>
      </style>
    <% end %>
    <!-- FUll CSS -->
    <link phx-track-static rel="stylesheet" href={url(~p"/css/app.css")} />
    <script
      defer
      phx-track-static
      type="text/javascript"
      src={url(~p"/js/app.js")}
    />
  </head>
  <body class="min-h-screen text-md">
    
    <a href="#main-content" class="sr-only" tabindex="0">
      <%= gettext("Skip to main content") %>
    </a>
    <div data-main-view class="transition-opacity duration-500 ease-in-out phx-page-loading:opacity-0">
    <nav role="banner" class="flex items-center justify-between w-full">
      <!-- Logo -->
      <.link
        navigate={Routes.home_path(@conn, :index, @user_locale)}
        class="text-2xl"
        aria-label={gettext("Zane Riley Portfolio Logo")}
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 122 150"
          width="122"
          height="150"
        >
          <path
            fill="currentColor"
            d="m3.17 56.5 33.6-46.66h-9.91c-6.06 0-9.06 3.38-11.9 10.78l-.46 1.32h-1.1L17.7 7.8h25.43l-.2.85L9.35 55.31H20.6c6.48 0 9.05-3.63 12.36-10.97l.6-1.32h1.1l-4.5 14.32H2.98l.2-.84Zm46.13-3.61c-.86 0-1.05-.66-1.05-1.59.13-1.58.49-3.14 1.05-4.62l5.44-16.44c-7.7 15.8-13.1 22.65-16.21 22.65-1.1 0-1.72-1-1.72-2.65 0-7.7 10.11-32.49 19.37-32.49 1.31.12 2.59.5 3.76 1.1l2.45-2.64 1.1.13L52.8 48.1a62.58 62.58 0 0 0 8.46-9.45l.8.66C56.7 46.9 51.48 52.89 49.3 52.89Zm-7.33-5c1.25 0 6.47-6.88 15.33-25.38l.2-.55c-1.1-1-2.32-1.85-3.64-1.85-5.68.02-12.33 22.56-12.33 27.05 0 .53.17.73.44.73Zm28.81-24.74c0-.46-.13-.73-.55-.73-1.19 0-2.71 1.85-5.22 6.55l-.86-.4c2.75-6.21 6.15-10.84 8.92-10.84 1.46 0 2.12.86 2.12 2.51 0 1.32-.4 3.04-1.2 5.29L69.5 38.75c6.94-15.2 12.5-21.02 16.2-21.02 1.58 0 2.3 1.1 2.3 3.04 0 1.32-.46 3.1-1.1 5.16l-7.92 22.16a68.01 68.01 0 0 0 7.93-9.45l.79.66c-5.16 7.46-10.05 13.59-12.1 13.59-.85 0-1.18-.73-1.18-1.72.12-1.61.5-3.2 1.1-4.7l7.31-20.06c.3-.87.5-1.79.55-2.71 0-.73-.2-1-.86-1-2.58 0-8.92 7.34-17.44 29.15H61.5l8.72-26.37c.3-.74.5-1.53.55-2.33Zm25.38 26.13c2.31 0 4.5-3.44 6.47-8.4l.93.47c-2.64 7.2-5.88 11.56-9.45 11.56-3.1 0-4.16-3.04-4.16-7.4 0-11.37 7.6-27.76 15.32-27.76 2.32 0 3.44 1.46 3.44 3.86 0 5.88-5.94 11.01-13.28 13.48a36.57 36.57 0 0 0-1.25 8.81c0 3.4.52 5.38 1.98 5.38Zm-.4-15.6c6.41-2.71 9.25-8.46 9.25-12.12 0-1.25-.4-1.91-1.19-1.91-2.57.02-6.08 6.76-8.06 14.03Z"
          />
          <g fill="currentColor" clip-path="url(#a)">
            <path d="M5.83 66.11c-.31.06-.61.1-.9.17l-.67.2a.17.17 0 0 1-.2-.06 3.94 3.94 0 0 1-.61-1.16 1.13 1.13 0 0 1-.03-.18c-.01-.1.04-.13.13-.11l.24.06c.36.08.73.11 1.1.1.31 0 .63-.04.95-.05V63.6a.25.25 0 0 0-.12-.23l-.43-.31c-.17-.12-.18-.2-.02-.34.13-.12.28-.22.42-.32a.3.3 0 0 1 .2-.04l1.37.4a.42.42 0 0 1 .32.4c0 .09-.01.19-.06.27a.98.98 0 0 0-.21.59l-.07.86v.06c.21-.03.42-.04.62-.08.43-.07.86-.14 1.29-.24.18-.05.35-.13.52-.23a.31.31 0 0 1 .3-.02l1.4.58a.59.59 0 0 1 .36.32.49.49 0 0 1-.24.65l-.79.41c-.4.24-.79.51-1.15.8-.4.3-.82.58-1.24.83-.26.15-.57.2-.86.15l-.06-.01c-.15-.06-.16-.12-.03-.22a9.24 9.24 0 0 0 1.73-2c.02-.07.01-.12-.07-.1l-.61.06-1.2.14-.06.01-.04.64c-.02.6-.04 1.2-.04 1.8a2.62 2.62 0 0 0 .08.63.5.5 0 0 0 .5.27c.32 0 .65-.02.97-.06.38-.05.76-.14 1.15-.19.36-.06.74.01 1.05.22.25.17.34.4.14.71a1.1 1.1 0 0 1-.78.48 7.86 7.86 0 0 1-2.7.05c-.3-.05-.6-.14-.88-.28a1.27 1.27 0 0 1-.69-1.02c-.05-.44-.09-.88-.1-1.32-.01-.55 0-1.11.01-1.66v-.15Zm3.04-3.56a2 2 0 0 1 1.2.36.77.77 0 0 1 .36.67.42.42 0 0 1-.26.39.41.41 0 0 1-.44-.12 1 1 0 0 1-.1-.12c-.25-.4-.62-.72-1.06-.9a1.02 1.02 0 0 1-.16-.08c-.03-.02-.06-.07-.06-.1a.13.13 0 0 1 .1-.06l.42-.04Zm1.33-.72c.49 0 .87.01 1.2.24a.56.56 0 0 1 .27.5.39.39 0 0 1-.26.36.44.44 0 0 1-.49-.11 2.2 2.2 0 0 0-1.29-.65c-.07-.01-.16 0-.16-.1s.09-.1.15-.12l.58-.12Z" />
          </g>
          <path
            fill="currentColor"
            d="M18.7 65.22c.1.1.18.2.26.3.12.16.18.36.17.55-.01.58-.03 1.15-.02 1.73 0 .44.04.87.05 1.32.02.42-.1.85-.35 1.2a.76.76 0 0 1-.56.37c-.1 0-.19 0-.28-.04a.83.83 0 0 1-.53-.94c.03-.31.1-.62.14-.94.1-.73.13-1.46.09-2.2l-.04-.55-.12.07c-.8.55-1.67 1-2.58 1.34-.45.18-.92.3-1.4.38a.9.9 0 0 1-.23 0c-.05 0-.09-.05-.13-.08.03-.04.05-.1.09-.11.31-.19.63-.36.94-.56.67-.43 1.3-.92 1.88-1.45a25.7 25.7 0 0 0 1.9-1.83l.9-1a.12.12 0 0 0 0-.2l-.2-.18c-.1-.09-.1-.16 0-.24l.42-.3c.1-.08.2-.03.28.02l.57.37c.18.12.36.26.54.4.07.06.13.13.18.2a.35.35 0 0 1-.12.55 1.7 1.7 0 0 0-.37.26l-1.48 1.56Z"
          />
          <g fill="currentColor" clip-path="url(#b)">
            <path d="M31.68 64.66a2.4 2.4 0 0 1-.12.38 7.62 7.62 0 0 1-1.9 2.28c-.68.53-1.42.96-2.21 1.27-.96.38-1.92.74-2.88 1.1a.46.46 0 0 1-.62-.21c-.25-.42-.4-.87-.47-1.35a.67.67 0 0 1 .07-.36c.08-.14.18-.26.3-.37.13-.12.25-.09.32.08.17.41.35.51.8.43a9 9 0 0 0 1.67-.53 16.92 16.92 0 0 0 3.6-1.83c.43-.3.84-.62 1.21-.99l.09-.08c.06-.05.1-.03.11.05v.12h.03Zm-4.46-.56c-.01.38-.2.56-.62.59l-.68.04c-.3.03-.57.15-.78.36a.6.6 0 0 1-.15.06.5.5 0 0 1 0-.16l.26-.66c.07-.16.06-.2-.11-.22a2.33 2.33 0 0 1-1.53-.95.93.93 0 0 1-.13-.26c-.04-.12.02-.2.14-.18.15.02.29.06.43.1.5.12 1.04.11 1.54-.03a.76.76 0 0 1 .78.2c.24.26.49.5.72.76a.43.43 0 0 1 .13.35Z" />
          </g>
          <g fill="currentColor" clip-path="url(#c)">
            <path d="M32.25 135.41h.33l-.2 1c-.98.17-1.98.26-2.97.26-3.3 0-3.97-.73-4.96-4.3L18.39 112h-3.37l-4.76 19.5c-.12.44-.19.91-.2 1.38 0 1.59 1 2.51 3.18 2.51h.86l-.27 1H-.37l.2-1H.6c2.76 0 4.37-1.52 4.96-3.9l9.63-39.76c.12-.45.19-.92.2-1.39 0-1.58-.93-2.51-3.11-2.51h-.86l.2-1h13.41c6.15 0 9.37 3.78 9.37 9.53 0 7.46-4.7 13.28-12.12 14.67l6.06 19.27c1.45 4.45 1.78 5.11 3.9 5.11ZM15.4 110.17h2.84c6.54 0 11.17-5.55 11.17-13.68 0-4.9-2.45-7.6-6.22-7.6h-2.64l-5.15 21.28Zm27.7-5.64a8.9 8.9 0 0 0 .56-2.31c0-.55-.13-.8-.55-.8-1.2 0-2.51 1.85-5.1 6.68l-.9-.47c2.85-6.2 6.15-10.83 9-10.83 1.38 0 1.98.99 1.98 2.5 0 1.4-.6 3.7-1.4 6.02L39.15 127a67.68 67.68 0 0 0 8.2-9.32l.79.66c-5.22 7.53-10.11 13.61-12.3 13.61-.85 0-1.18-.66-1.18-1.65 0-1.19.55-2.97 1.19-4.82l7.27-20.95Zm3.38-17.58a2.75 2.75 0 0 1 2.84-2.84 2.75 2.75 0 0 1 2.84 2.84 2.69 2.69 0 0 1-2.84 2.75 2.65 2.65 0 0 1-2.84-2.75Zm5.42 40.25a79.21 79.21 0 0 0 8.2-9.45l.7.59c-5.22 7.6-9.92 13.61-12.22 13.61-.86 0-1.2-.72-1.2-1.71.13-1.6.44-3.17.93-4.7l10.77-38h-3.43l.26-.86c3.23-1.25 6.1-3.56 8.67-6.67h.62L51.9 127.2Zm17.7 1.12c2.32 0 4.5-3.44 6.48-8.4l.93.47c-2.64 7.2-5.88 11.56-9.45 11.56-3.1 0-4.16-3.04-4.16-7.4 0-11.36 7.6-27.75 15.33-27.75 2.31 0 3.43 1.45 3.43 3.85 0 5.88-5.94 11.02-13.28 13.48a36.57 36.57 0 0 0-1.25 8.81c-.01 3.4.52 5.38 1.98 5.38Zm-.39-15.6c6.41-2.7 9.25-8.46 9.25-12.11 0-1.26-.4-1.92-1.19-1.92-2.58.04-6.08 6.76-8.06 14.03Zm20.95 22.21c.85-10.9.55-33.44-1.85-33.44-1 0-2.45 1.72-4.83 6.28l-.73-.55c2.45-5.55 5.42-10.47 7.87-10.47 3.96 0 4.4 20.82 3.3 31.72 4.36-8.13 7.8-17.31 7.8-22.93 0-3.3-.99-3.85-.99-6.21 0-1.59.8-2.58 2.2-2.58 1.59 0 2.2 1.46 2.2 3.7 0 11.17-16.58 47.98-28.02 47.98-1.91 0-2.9-.86-2.9-2.31a2.24 2.24 0 0 1 2.11-2.38c1.52 0 1.52 1.45 3.44 1.45 2.6.05 6.56-4.31 10.4-10.26ZM3.65 149c.03-.1.11-.1.18-.12l.43-.1a8.53 8.53 0 0 0 5.2-3.93c.04-.08.04-.08.03-.17l-.42.03-1.12.13-1.33.16-.9.14c-.24.03-.48.1-.7.19a.6.6 0 0 1-.54-.04l-.24-.16a2.68 2.68 0 0 1-.79-1.15c-.03-.12.02-.16.14-.12.58.21 1.19.2 1.8.2.44-.02.88-.04 1.32-.08l1.33-.11 1.2-.11c.32-.03.6-.09.85-.27.19-.14.37-.12.56-.02.3.16.58.36.83.6.1.09.16.2.16.34 0 .09-.03.16-.11.22-.29.19-.48.45-.64.73a7.57 7.57 0 0 1-3 2.96c-.5.25-1.05.41-1.62.52a15.2 15.2 0 0 1-2.5.2c-.04 0-.08-.02-.12-.04Zm2.05-6.1h-.71a.33.33 0 0 1-.29-.15c-.12-.2-.25-.38-.38-.57a.77.77 0 0 1-.09-.16c-.03-.08.02-.14.12-.12.55.12 1.1.06 1.65.03a15.6 15.6 0 0 0 2.16-.3c.2-.03.38-.08.55-.18a.43.43 0 0 1 .34-.04c.34.1.68.19.99.34.12.07.23.14.34.24.2.18.15.41-.08.56a.9.9 0 0 1-.43.14l-.76.05-2.52.11-.9.04Zm12.86 1.32c.1.1.18.2.26.3.12.16.18.35.17.55-.01.57-.03 1.15-.03 1.73 0 .43.05.87.06 1.31.02.43-.1.85-.35 1.2a.76.76 0 0 1-.56.37c-.1.01-.2 0-.28-.04a.82.82 0 0 1-.53-.93c.03-.31.1-.62.14-.94.1-.73.12-1.47.08-2.2l-.03-.55-.12.07c-.8.55-1.67 1-2.59 1.34-.44.17-.9.3-1.38.38a.87.87 0 0 1-.24 0c-.05 0-.1-.06-.14-.08.03-.04.06-.1.1-.12.3-.18.63-.35.94-.55a25.3 25.3 0 0 0 3.78-3.28l.9-1.01a.12.12 0 0 0 .03-.15.13.13 0 0 0-.04-.05l-.2-.17c-.09-.09-.09-.16 0-.24.14-.11.29-.21.43-.3.1-.08.2-.03.28.02l.56.36.55.4.18.21a.35.35 0 0 1 0 .45.36.36 0 0 1-.12.1 1.7 1.7 0 0 0-.38.26c-.5.51-.98 1.04-1.47 1.56Z" />
            <g clip-path="url(#d)">
              <path d="M23.7 149.34h-.28c-.04 0-.08 0-.1-.05 0-.05.03-.08.07-.1l.38-.12c.8-.27 1.45-.72 2-1.32.45-.5.8-1.03 1-1.65.14-.43.22-.88.27-1.33.07-.55.07-1.1.07-1.66 0-.26-.02-.5-.04-.76 0-.11-.05-.2-.16-.24l-.56-.26c-.2-.09-.21-.14-.06-.28.17-.16.36-.3.56-.42a.26.26 0 0 1 .12-.04c.04 0 .09 0 .12.02l1.08.43c.34.15.49.41.44.75-.12.87-.07 1.75-.11 2.62a5.87 5.87 0 0 1-.27 1.64 4.12 4.12 0 0 1-2.37 2.31 6.1 6.1 0 0 1-2.16.47Z" />
              <path d="M25.5 143.9c-.04.53-.07 1.14-.13 1.75a2.6 2.6 0 0 1-.13.67 1.28 1.28 0 0 1-.36.52c-.12.1-.19.1-.29-.02a1.76 1.76 0 0 1-.21-.26l-.38-.62a.72.72 0 0 1-.07-.5 13.66 13.66 0 0 0 .14-2.6c-.04-.26-.21-.44-.46-.56l-.18-.09c-.07-.04-.08-.1-.02-.15a.29.29 0 0 1 .08-.07l.5-.22c.23-.1.45-.07.66.03l.51.3c.19.11.3.28.3.5l.04 1.31Z" />
            </g>
            <path d="M39.48 145.42c0 .21-.13.36-.35.43a1.3 1.3 0 0 1-.57.02 11.2 11.2 0 0 0-1.64-.12H35.2a38.26 38.26 0 0 0-2.76.25.32.32 0 0 1-.33-.12c-.3-.37-.54-.77-.7-1.2-.01-.05-.06-.1 0-.16s.12-.01.19 0c.4.11.82.17 1.24.17a66.82 66.82 0 0 0 4.04-.08c.46-.03.9-.08 1.35-.15.48-.07.8.14 1.06.45.13.15.2.32.2.5Z" />
          </g>
          <defs>
            <clipPath id="a">
              <path
                fill="currentColor"
                d="M0 0h8.36v8.8H0z"
                transform="translate(3.42 61.83)"
              />
            </clipPath>
            <clipPath id="b">
              <path
                fill="currentColor"
                d="M0 0h8.22v7.03H0z"
                transform="translate(23.47 62.71)"
              />
            </clipPath>
            <clipPath id="c">
              <path
                fill="currentColor"
                d="M0 0h120.82v73.46H0z"
                transform="translate(.34 76.37)"
              />
            </clipPath>
            <clipPath id="d">
              <path
                fill="currentColor"
                d="M0 0h5.3v8.24H0z"
                transform="translate(23.32 141.11)"
              />
            </clipPath>
          </defs>
        </svg>
      </.link>
      <!-- Page navigation -->
      <nav>
        <ul>
          <li>
            <%= live_redirect(ngettext("Case Study", "Case Studies", 2),
              to: Routes.case_study_index_path(@conn, :index, @user_locale)
            ) %>
          </li>
        </ul>
      </nav>
      <!-- Language switcher -->
      <div role="region" aria-label={gettext("Language switcher")} class="">
        <input type="checkbox" id="lang-toggle" hidden aria-hidden="true" />
        <label for="lang-toggle" aria-hidden="true" class="space-x-md">
          <span aria-label={gettext("English")}>English</span>
          <span aria-label={gettext("Japanese")}>日本語</span>
        </label>
      </div>
    </nav>
    
    <%= @inner_content %>
    </div>
    <!-- FIX FOOTER SO IT'S ACTUALLY LINKING -->
    <footer
      role="contentinfo"
      class="flex items-center justify-center text-center sticky top-[100vh]"
    >
      <div>
        <h2>
          <%= gettext("Colophon") %>
        </h2>
        <p>
          <%= gettext("Self-hosted on my homelab in Tokyo.") %>
          <!-- TODO: Finalize fonts -->
          <%= raw(
            gettext(
              "Type set in %{font1}, %{font2}, %{font3}, & %{font4}.",
              font1:
                "<a href='https://www.grillitype.com/typeface/gt-flexa'>GT Flexa</a>",
              font2: "<a href=''>FIX ME</a>",
              font3: "<a href='https://ohnotype.co/fonts/cheee'>CHEEE</a>",
              font4: "<a href=''>FIX ME</a>"
            )
          ) %>
        </p>
        <p>
          <%= raw(
            gettext("Open source on %{github} under aGPL.",
              github:
                "<a href='https://github.com/zaneriley/personal-site' target='_blank'>Github</a>"
            )
          ) %>
        </p>
        <p>
          <%= raw(
            gettext("Remix freely in %{figma}.",
              figma:
                "<a href='https://www.figma.com/file/zDOcBhnjTDCWmc6OFgeoUc/Portfolio-2021?type=design&mode=design&t=fKcg1qZfy3SuqzuK-1' target='_blank'>Figma</a>"
            )
          ) %>
        </p>
        <p>
          &copy; 2010 – <%= @current_year %>
        </p>
      </div>
    </footer>
  </body>
</html>
